<template>
  <!-- æœ¬é¡µä¸º /note/list é¡µé¢ -->
  <div class="note-list-page">
    <note-preview-section
    ></note-preview-section>
    <note-edit-section
    :note-info="$store.state.note.currentNote"
    ></note-edit-section>
  </div>
</template>
<script>

import NotePreviewSection from './notePreviewSection'
import NoteEditSection from './noteEditSection'
import * as notebooksTypes from '@/store/types/notebooksTypes'
import * as noteTypes from '@/store/types/noteTypes'

export default {

  components: { NotePreviewSection, NoteEditSection },

  created: function() {
    // ç¼“å­˜ä¸­æ²¡æœ‰ç¬”è®°æœ¬åˆ—è¡¨ ğŸ‘‰ åˆ™å‘åç«¯è¯·æ±‚è·å–ç¬”è®°æœ¬åˆ—è¡¨
    if (!this.$store.state.notebooks.notebooksList.length && this.$route.path !== '/note/all') {
      this.$store.dispatch(notebooksTypes.GET_NOTEBOOKS_LIST)
    }

    // ç¼“å­˜ä¸­æ²¡æœ‰ç¬”è®°åˆ—è¡¨ ğŸ‘‰ åˆ™å‘åç«¯è¯·æ±‚ç¬”è®°åˆ—è¡¨
    if (!this.$store.state.note.notesList.length) {
      this.$store.dispatch(noteTypes.GET_NOTE_LIST)
    }
  }

}
</script>
