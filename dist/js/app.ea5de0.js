webpackJsonp([4],{0:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}n(350);var u=n(17),a=o(u);n(286);var r=n(85),i=o(r),l=n(440),f=o(l),c=n(87),s=o(c),d=n(486),_=o(d),E=n(284),p=o(E),T=n(485),O=o(T);n(351),a.default.prototype.$Message=O.default,new a.default({el:"#app",store:s.default,router:i.default,render:function(t){return t(f.default)}}),a.default.use(_.default),a.default.use(p.default),console.info("[当前环境] 生产环境"),a.default.config.devtools=!1},7:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.GET_NOTE_LIST="GET_NOTE_LIST",e.GET_NOTE_LIST_REQUEST="GET_NOTE_LIST_REQUEST",e.GET_NOTE_LIST_SUCCESS="GET_NOTE_LIST_SUCCESS",e.GET_NOTE_LIST_FAILURE="GET_NOTE_LIST_FAILURE",e.GET_NOTE_UPDATE_LIST="GET_NOTE_UPDATE_LIST",e.UPDATE_CURRENT_NOTE="UPDATE_CURRENT_NOTE",e.SAVE_NOTE="SAVE_NOTE",e.CHANGE_ACTIVE_NOTE="CHANGE_ACTIVE_NOTE",e.CREATE_NEW_NOTE="CREATE_NEW_NOTE",e.DELETE_NOTE="DELETE_NOTE"},19:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.CHANGE_ORDER_TYPE="CHANGE_ORDER_TYPE",e.GET_NOTEBOOKS_LIST="GET_NOTEBOOKS_LIST",e.GET_NOTEBOOKS_LIST_REQUEST="GET_NOTEBOOKS_LIST_REQUEST",e.GET_NOTEBOOKS_LIST_SUCCESS="GET_NOTEBOOKS_LIST_SUCCESS",e.GET_NOTEBOOKS_LIST_FAILURE="GET_NOTEBOOKS_LIST_FAILURE",e.DELETE_NOTEBOOK="DELETE_NOTEBOOK"},33:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.USER_SIGN_IN="USER_SIGN_IN",e.USER_SIGN_UP="USER_SIGN_UP",e.CHANGE_ACCOUNT_INFO="CHANGE_ACCOUNT_INFO",e.USER_LOG_OUT="USER_LOG_OUT"},50:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(291).default;e.default=o},85:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var u=n(17),a=o(u),r=n(484),i=o(r),l=n(288),f=o(l),c=n(73),s=o(c);a.default.use(i.default);var d=new i.default({suppressTransitionError:!0,routes:f.default});d.beforeEach(function(t,e,n){var o=(0,s.default)(JSON.parse(localStorage.accountInfo||"{}"));"/login"!==t.path&&o?(d.push("/login"),n(!1)):o||"/login"!==t.path?n():(d.push(e.path),n(!1))}),e.default=d},86:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var u=n(51),a=o(u),r=n(52),i=o(r),l=n(50),f=o(l),c=function(){function t(){(0,a.default)(this,t)}return(0,i.default)(t,[{key:"fetchList",value:function(){return(0,f.default)({url:"/notebook/notebooksList"})}},{key:"newNotebook",value:function(t){return(0,f.default)({url:"/notebook/newNotebook",method:"post",body:t})}},{key:"deleteNotebook",value:function(t){return(0,f.default)({url:"/notebook/deleteNotebook",method:"post",body:{notebookId:t}})}}]),t}();e.default=new c},87:function(t,e,n){"use strict";function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function u(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(17),r=u(a),i=n(18),l=u(i),f=n(292),c=o(f),s=n(293),d=o(s),_=n(294),E=u(_),p=n(295),T=u(p),O=n(297),N=u(O),v=n(296),S=u(v);r.default.use(l.default);var L=!1;e.default=new l.default.Store({actions:c,getters:d,modules:{loading:T.default,account:E.default,notebooks:N.default,note:S.default},strict:L})},88:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.LOADING_CHANGE="LOADING_CHANGE"},263:function(t,e){"use strict"},265:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{option:{type:Object,required:!0}},methods:{cancelFunc:function(){this.$parent.hide()},confirmFunc:function(){this.$emit("confirm-event")}}}},284:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var u=n(442),a=o(u),r={install:function(t){t.component("confirm",a.default)}};"undefined"!=typeof window&&window.Vue&&window.Vue.use(r),e.default=r},285:function(t,e){"use strict";function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD HH:mm:ss";return window.moment(t).format(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},286:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}var u=n(17),a=o(u);a.default.filter("dateTimeFormatter",n(285).default),a.default.filter("noteFilter",n(287).default)},287:function(t,e){"use strict";function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e?t.map(function(t){return t.notebookId===e}):t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},288:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=[{path:"/",component:function(t){n.e(3,function(e){var n=[e(450)];t.apply(null,n)}.bind(this))},redirect:function(t){return"/notebooks"},children:[{path:"/notebooks",component:function(t){n.e(0,function(e){var n=[e(459)];t.apply(null,n)}.bind(this))}},{path:"/note",component:function(t){n.e(1,function(e){var n=[e(453)];t.apply(null,n)}.bind(this))},children:[{path:"/note/:notebookId",component:function(t){n.e(0,function(e){var n=[e(454)];t.apply(null,n)}.bind(this))}}]}]},{path:"/login",component:function(t){n.e(1,function(e){var n=[e(452)];t.apply(null,n)}.bind(this))}}]},289:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var u=n(51),a=o(u),r=n(52),i=o(r),l=n(50),f=o(l),c=function(){function t(){(0,a.default)(this,t)}return(0,i.default)(t,[{key:"checkLogin",value:function(){return(0,f.default)({url:"/auth/checkLogin"})}},{key:"login",value:function(t){return(0,f.default)({method:"post",url:"/auth/login",body:t})}},{key:"signUp",value:function(t){return(0,f.default)({method:"post",url:"/auth/signUp",body:t})}},{key:"logout",value:function(){return(0,f.default)({method:"post",url:"/auth/logout"})}}]),t}();e.default=new c},290:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var u=n(51),a=o(u),r=n(52),i=o(r),l=n(50),f=o(l),c=function(){function t(){(0,a.default)(this,t)}return(0,i.default)(t,[{key:"fetchList",value:function(){return(0,f.default)({url:"/note/notesList"})}},{key:"fetchUpdateList",value:function(){return(0,f.default)({url:"/note/notesUpdateList"})}},{key:"newNotebook",value:function(t){return(0,f.default)({url:"/note/newNote",method:"post",body:t})}},{key:"saveNote",value:function(t){return(0,f.default)({url:"/note/saveNote",method:"post",body:t})}},{key:"newNote",value:function(t){return(0,f.default)({url:"/note/newNote",method:"post",body:t})}},{key:"deleteNote",value:function(t){return(0,f.default)({url:"/note/deleteNote",method:"post",body:{id:t}})}}]),t}();e.default=new c},291:function(t,e,n){"use strict";function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function u(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(90),r=u(a),i=n(302),l=u(i),f=n(306),c=u(f),s=n(245),d=u(s),_=n(87),E=u(_),p=n(88),T=o(p),O="/api",N=function(t){var e=t.method,n=void 0===e?"get":e,o=t.url,u=t.body,a=void 0===u?null:u,i=function(t){var e="",n="object"===("undefined"==typeof t?"undefined":(0,c.default)(t))?t:{};return(0,l.default)(n||{}).forEach(function(t,o){e+=(0===o?"?":"&")+t+"="+n[t]}),e},f=new r.default(function(t,e){var u=O+o+("get"===n?i(a):"");E.default.commit(T.LOADING_CHANGE,{path:O,loading:!0}),(0,d.default)({method:n,url:u,data:a}).then(function(n){var o=n.data;return E.default.commit(T.LOADING_CHANGE,{path:O,loading:!1}),o.success?void t(o.data):e(o)}).catch(function(t){E.default.commit(T.LOADING_CHANGE,{path:O,loading:!1}),console.log("request error: %s",t),console.log(t)})});return f};e.default=N},292:function(t,e,n){"use strict";function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}Object.defineProperty(e,"__esModule",{value:!0}),e.addToCart=void 0;var u=n(298),a=o(u);e.addToCart=function(t,e){var n=t.commit;e.inventory>0&&n(a.ADD_TO_CART,{id:e.id})}},293:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.cartProducts=function(t){return t.cart.added.map(function(e){var n=e.id,o=e.quantity,u=t.products.all.find(function(t){return t.id===n});return{title:u.title,price:u.price,quantity:o}})}},294:function(t,e,n){"use strict";function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function u(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a,r=n(24),i=u(r),l=n(25),f=u(l),c=n(34),s=u(c),d=n(33),_=o(d),E=n(7),p=o(E),T=n(19),O=o(T),N=n(289),v=u(N),S=n(85),L=u(S),h=n(349),I=u(h),y=n(17),m=u(y),b={accountInfo:JSON.parse(localStorage.accountInfo||"{}")},U={accountInfo:function(t){return t.accountInfo},showAccountSetting:function(t){return t.showAccountSetting}},C=function(t){var e=(0,s.default)({},t);return e.password=(0,I.default)(e.password).toString(),e},G=(a={},(0,f.default)(a,_.USER_SIGN_IN,function(t,e){var n=this,o=t.commit;t.state;v.default.login(C(e)).then(function(t){m.default.prototype.$Message.success("Welcome!"),n.dispatch(p.GET_NOTE_LIST),n.dispatch(O.GET_NOTEBOOKS_LIST),o(_.CHANGE_ACCOUNT_INFO,{data:t}),L.default.push("/notebooks")},function(t){m.default.prototype.$Message.error(t.errorMsg),o(_.CHANGE_ACCOUNT_INFO,{data:{}})})}),(0,f.default)(a,_.USER_SIGN_UP,function(t,e){var n=this,o=t.commit;t.state;v.default.signUp(C(e)).then(function(t){m.default.prototype.$Message.success("Welcome!"),n.dispatch(p.GET_NOTE_LIST),n.dispatch(O.GET_NOTEBOOKS_LIST),o(_.CHANGE_ACCOUNT_INFO,{data:t}),L.default.push("/notebooks")},function(t){m.default.prototype.$Message.err(t.errorMsg),o(_.CHANGE_ACCOUNT_INFO,{data:{}})})}),(0,f.default)(a,_.USER_LOG_OUT,function(t){t.commit,t.state;v.default.logout().then(function(){localStorage.clear(),L.default.push("/login")})}),a),A=(0,f.default)({},_.CHANGE_ACCOUNT_INFO,function(t,e){var n=e.data;t.accountInfo=n,localStorage.accountInfo=(0,i.default)(n)});e.default={state:b,getters:U,actions:G,mutations:A}},295:function(t,e,n){"use strict";function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function u(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(25),r=u(a),i=n(88),l=o(i),f={loading:[]},c={loading:function(t){return t.loading}},s={},d=(0,r.default)({},l.LOADING_CHANGE,function(t,e){var n=e.path,o=e.loading,u=t.loading;o?u.push(n):u.splice(u[u.indexOf(n)],1)});e.default={state:f,getters:c,actions:s,mutations:d}},296:function(t,e,n){"use strict";function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function u(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a,r,i=n(12),l=u(i),f=n(34),c=u(f),s=n(24),d=u(s),_=n(25),E=u(_),p=n(90),T=u(p),O=n(7),N=o(O),v=n(290),S=u(v),L=n(1),h=u(L),I=n(125),y=u(I),m=n(69),b=u(m),U=n(17),C=u(U),G={noteUpdateList:JSON.parse(localStorage.noteUpdateList||"[]"),notesList:JSON.parse(localStorage.notesList||"[]"),currentNote:{}},A={noteUpdateInfo:function(t){return t.noteUpdateInfo},notesList:function(t){return t.notesList},currentNote:function(t){return t.currentNote}},g=(a={},(0,E.default)(a,N.GET_NOTE_LIST,function(t){var e=t.commit;t.state;S.default.fetchList().then(function(t){e(N.GET_NOTE_LIST_SUCCESS,{data:t})},function(){e(N.GET_NOTE_LIST_FAILURE,{data:[]})})}),(0,E.default)(a,N.GET_NOTE_UPDATE_LIST,function(t){var e=this,n=(t.commit,t.state);S.default.fetchUpdateList().then(function(t){for(var o=[],u=0;u<n.noteUpdateList.length;u+=1){var a=(0,y.default)(t,{id:n.noteUpdateList[u].id});if(a&&a.updateTime>=n.noteUpdateList[u].updateTime)break;o.push(S.default.saveNote(n.notesList[u]))}T.default.all(o).then(function(t){C.default.prototype.$Message.success("Sync Note success"),e.dispatch(N.GET_NOTE_LIST)},function(){C.default.prototype.$Message.error("Sync Note fail, please do it later")})})}),(0,E.default)(a,N.SAVE_NOTE,function(t,e){var n=this;t.commit,t.state;S.default.saveNote(e).then(function(t){C.default.prototype.$Message.success("Note saved success"),n.dispatch(N.GET_NOTE_LIST)},function(){console.error("save note error!")})}),(0,E.default)(a,N.CREATE_NEW_NOTE,function(t,e){var n=this,o=t.commit;t.state;S.default.newNote(e).then(function(t){o(N.UPDATE_CURRENT_NOTE,{noteInfo:t}),n.dispatch(N.GET_NOTE_LIST)},function(){console.error("new note error!")})}),(0,E.default)(a,N.DELETE_NOTE,function(t,e){var n=this;t.commit,t.state;S.default.deleteNote(e).then(function(){n.dispatch(N.GET_NOTE_LIST)},function(){console.error("delete note fail!")})}),a),M=(r={},(0,E.default)(r,N.GET_NOTE_LIST_SUCCESS,function(t,e){var n=e.data;t.notesList=n,t.noteUpdateList=n.map(function(t){return{id:t.id,updateTime:t.updateTime}}),localStorage.notesList=(0,d.default)(n),localStorage.noteUpdateList=(0,d.default)(t.noteUpdateList),n.length&&(t.currentNote=(0,c.default)({},n[0]))}),(0,E.default)(r,N.GET_NOTE_LIST_FAILURE,function(t,e){e.data;t.notesList=[]}),(0,E.default)(r,N.UPDATE_CURRENT_NOTE,function(t,e){var n=e.noteInfo;t.currentNote=(0,c.default)(t.currentNote,n,{updateTime:(0,h.default)().format("x")});var o=t.currentNote,u=o.id,a=o.updateTime,r=(0,b.default)(t.noteUpdateList,{id:u});t.noteUpdateList.splice(r,1),t.noteUpdateList.splice(0,0,{id:u,updateTime:a}),localStorage.noteUpdateList=(0,d.default)(t.noteUpdateList),t.notesList.splice(r,1),t.notesList.splice(0,0,(0,l.default)({},t.currentNote)),localStorage.notesList=(0,d.default)(t.notesList)}),(0,E.default)(r,N.CHANGE_ACTIVE_NOTE,function(t,e){var n=e.noteInfo;t.currentNote=n}),r);e.default={state:G,getters:A,actions:g,mutations:M}},297:function(t,e,n){"use strict";function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function u(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a,r,i=n(25),l=u(i),f=n(24),c=u(f),s=n(19),d=o(s),_=n(7),E=o(_),p=n(86),T=u(p),O={orderType:"name",notebooksList:JSON.parse(localStorage.notebooksList||"[]")},N={notebooksList:function(t){return t.notebooksList}},v=(a={},(0,l.default)(a,d.GET_NOTEBOOKS_LIST,function(t){var e=t.commit;t.state;T.default.fetchList().then(function(t){e(d.GET_NOTEBOOKS_LIST_SUCCESS,{data:t}),localStorage.notebooksList=(0,c.default)(t)},function(){e(d.GET_NOTEBOOKS_LIST_FAILURE)})}),(0,l.default)(a,d.DELETE_NOTEBOOK,function(t,e){var n=this;t.commit,t.state;T.default.deleteNotebook(e).then(function(){n.dispatch(d.GET_NOTEBOOKS_LIST),n.dispatch(E.GET_NOTE_UPDATE_LIST)})}),a),S=(r={},(0,l.default)(r,d.CHANGE_ORDER_TYPE,function(t,e){var n=e.type;t.orderType=n}),(0,l.default)(r,d.GET_NOTEBOOKS_LIST_FAILURE,function(t){t.notebooksList=[]}),(0,l.default)(r,d.GET_NOTEBOOKS_LIST_SUCCESS,function(t,e){var n=e.data;t.notebooksList=n}),r);e.default={state:O,getters:N,actions:v,mutations:S}},298:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.ADD_TO_CART="ADD_TO_CART"},351:function(t,e){},353:351,440:function(t,e,n){var o=n(2)(n(263),n(470),null,null,null);t.exports=o.exports},442:function(t,e,n){function o(t){n(353)}var u=n(2)(n(265),n(473),o,null,null);t.exports=u.exports},470:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("router-view",{attrs:{transition:"fade","transition-mode":"out-in"}})],1)},staticRenderFns:[]}},473:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"confirm-popup-body"},[n("h3",{staticClass:"popup-title txt-ellipsis"},[t._v("\n    "+t._s(t.option.title)+"\n  ")]),t._v(" "),n("div",{staticClass:"popup-content"},t._l(t.option.tips,function(e,o){return n("p",{key:o,staticClass:"content-p"},[t._v("\n      "+t._s(e)+"\n      ")])})),t._v(" "),n("div",{staticClass:"popup-footer"},[n("button",{staticClass:"btn",on:{click:t.cancelFunc}},[t._v("Cancel")]),t._v(" "),n("button",{staticClass:"btn confirm-btn",on:{click:t.confirmFunc}},[t._v("Confirm")])])])},staticRenderFns:[]}}});