webpackJsonp([4],{0:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}n(350);var a=n(17),i=r(a);n(286);var o=n(51),s=r(o),u=n(440),d=r(u),l=n(87),c=r(l),_=n(486),f=r(_),m=n(284),h=r(m),p=n(485),y=r(p);n(352),n(351),i["default"].prototype.$Message=y["default"],new i["default"]({el:"#app",store:c["default"],router:s["default"],render:function(e){return e(d["default"])}}),i["default"].use(f["default"]),i["default"].use(h["default"]),console.info("[当前环境] 生产环境"),i["default"].config.devtools=!1},7:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GET_NOTE_LIST="GET_NOTE_LIST",t.GET_NOTE_LIST_REQUEST="GET_NOTE_LIST_REQUEST",t.GET_NOTE_LIST_SUCCESS="GET_NOTE_LIST_SUCCESS",t.GET_NOTE_LIST_FAILURE="GET_NOTE_LIST_FAILURE",t.GET_NOTE_UPDATE_LIST="GET_NOTE_UPDATE_LIST",t.UPDATE_CURRENT_NOTE="UPDATE_CURRENT_NOTE",t.SAVE_NOTE="SAVE_NOTE",t.CHANGE_ACTIVE_NOTE="CHANGE_ACTIVE_NOTE",t.CREATE_NEW_NOTE="CREATE_NEW_NOTE",t.DELETE_NOTE="DELETE_NOTE"},19:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CHANGE_ORDER_TYPE="CHANGE_ORDER_TYPE",t.GET_NOTEBOOKS_LIST="GET_NOTEBOOKS_LIST",t.GET_NOTEBOOKS_LIST_REQUEST="GET_NOTEBOOKS_LIST_REQUEST",t.GET_NOTEBOOKS_LIST_SUCCESS="GET_NOTEBOOKS_LIST_SUCCESS",t.GET_NOTEBOOKS_LIST_FAILURE="GET_NOTEBOOKS_LIST_FAILURE",t.DELETE_NOTEBOOK="DELETE_NOTEBOOK"},34:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.USER_SIGN_IN="USER_SIGN_IN",t.USER_SIGN_UP="USER_SIGN_UP",t.CHANGE_ACCOUNT_INFO="CHANGE_ACCOUNT_INFO",t.USER_LOG_OUT="USER_LOG_OUT"},51:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(17),i=r(a),o=n(484),s=r(o),u=n(288),d=r(u),l=n(75),c=r(l);i["default"].use(s["default"]);var _=new s["default"]({suppressTransitionError:!0,routes:d["default"]});_.beforeEach(function(e,t,n){var r=c["default"](JSON.parse(localStorage.accountInfo||"{}"));"/login"!==e.path&&r?(_.push("/login"),n(!1)):r||"/login"!==e.path?n():(_.push(t.path),n(!1))}),t["default"]=_},52:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(291)["default"];t["default"]=r},86:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(53),i=r(a),o=n(54),s=r(o),u=n(52),d=r(u),l=function(){function e(){i["default"](this,e)}return s["default"](e,[{key:"fetchList",value:function(){return d["default"]({url:"/notebook/notebooksList"})}},{key:"newNotebook",value:function(e){return d["default"]({url:"/notebook/newNotebook",method:"post",body:e})}},{key:"deleteNotebook",value:function(e){return d["default"]({url:"/notebook/deleteNotebook",method:"post",body:{notebookId:e}})}}]),e}();t["default"]=new l},87:function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(17),o=a(i),s=n(18),u=a(s),d=n(292),l=r(d),c=n(293),_=r(c),f=n(294),m=a(f),h=n(295),p=a(h),y=n(297),v=a(y),M=n(296),g=a(M);o["default"].use(u["default"]);var L=!1;t["default"]=new u["default"].Store({actions:l,getters:_,modules:{loading:p["default"],account:m["default"],notebooks:v["default"],note:g["default"]},strict:L})},88:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.LOADING_CHANGE="LOADING_CHANGE"},263:function(e,t){"use strict"},265:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={props:{option:{type:Object,required:!0}},methods:{cancelFunc:function(){this.$parent.hide()},confirmFunc:function(){this.$emit("confirm-event")}}}},284:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(442),i=r(a),o={install:function(e){e.component("confirm",i["default"])}};"undefined"!=typeof window&&window.Vue&&window.Vue.use(o),t["default"]=o},285:function(e,t){"use strict";function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD HH:mm:ss";return window.moment(e).format(t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},286:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var a=n(17),i=r(a);i["default"].filter("dateTimeFormatter",n(285)["default"]),i["default"].filter("noteFilter",n(287)["default"])},287:function(e,t){"use strict";function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t?e.map(function(e){return e.notebookId===t}):e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},288:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=[{path:"/",component:function(e){n.e(3,function(t){var n=[t(450)];e.apply(null,n)})},redirect:function(e){return"/notebooks"},children:[{path:"/notebooks",component:function(e){n.e(0,function(t){var n=[t(459)];e.apply(null,n)})}},{path:"/note",component:function(e){n.e(1,function(t){var n=[t(453)];e.apply(null,n)})},children:[{path:"/note/:notebookId",component:function(e){n.e(0,function(t){var n=[t(454)];e.apply(null,n)})}}]}]},{path:"/login",component:function(e){n.e(1,function(t){var n=[t(452)];e.apply(null,n)})}}]},289:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(53),i=r(a),o=n(54),s=r(o),u=n(52),d=r(u),l=function(){function e(){i["default"](this,e)}return s["default"](e,[{key:"checkLogin",value:function(){return d["default"]({url:"/auth/checkLogin"})}},{key:"login",value:function(e){return d["default"]({method:"post",url:"/auth/login",body:e})}},{key:"signUp",value:function(e){return d["default"]({method:"post",url:"/auth/signUp",body:e})}},{key:"logout",value:function(){return d["default"]({method:"post",url:"/auth/logout"})}}]),e}();t["default"]=new l},290:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(53),i=r(a),o=n(54),s=r(o),u=n(52),d=r(u),l=function(){function e(){i["default"](this,e)}return s["default"](e,[{key:"fetchList",value:function(){return d["default"]({url:"/note/notesList"})}},{key:"fetchUpdateList",value:function(){return d["default"]({url:"/note/notesUpdateList"})}},{key:"newNotebook",value:function(e){return d["default"]({url:"/note/newNote",method:"post",body:e})}},{key:"saveNote",value:function(e){return d["default"]({url:"/note/saveNote",method:"post",body:e})}},{key:"newNote",value:function(e){return d["default"]({url:"/note/newNote",method:"post",body:e})}},{key:"deleteNote",value:function(e){return d["default"]({url:"/note/deleteNote",method:"post",body:{id:e}})}}]),e}();t["default"]=new l},291:function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(90),o=a(i),s=n(302),u=a(s),d=n(306),l=a(d),c=n(245),_=a(c),f=n(87),m=a(f),h=n(51),p=a(h),y=n(88),v=r(y),M="/api",g=function(e){var t=e.method,n=void 0===t?"get":t,r=e.url,a=e.body,i=void 0===a?null:a,s=function(e){var t="",n="object"===("undefined"==typeof e?"undefined":l["default"](e))?e:{};return u["default"](n||{}).forEach(function(e,r){t+=(0===r?"?":"&")+e+"="+n[e]}),t},d=new o["default"](function(e,t){var a=M+r+("get"===n?s(i):"");m["default"].commit(v.LOADING_CHANGE,{path:M,loading:!0}),_["default"]({method:n,url:a,data:i}).then(function(n){var r=n.data;return m["default"].commit(v.LOADING_CHANGE,{path:M,loading:!1}),r.success?void e(r.data):("not login!"===r.errorMsg&&(localStorage.clear(),p["default"].push({path:"/login"})),t(r))})["catch"](function(e){m["default"].commit(v.LOADING_CHANGE,{path:M,loading:!1}),console.log("request error: %s",e)})});return d};t["default"]=g},292:function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.addToCart=void 0;var a=n(298),i=r(a);t.addToCart=function(e,t){var n=e.commit;t.inventory>0&&n(i.ADD_TO_CART,{id:t.id})}},293:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.cartProducts=function(e){return e.cart.added.map(function(t){var n=t.id,r=t.quantity,a=e.products.all.find(function(e){return e.id===n});return{title:a.title,price:a.price,quantity:r}})}},294:function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(24),s=a(o),u=n(25),d=a(u),l=n(35),c=a(l),_=n(34),f=r(_),m=n(7),h=r(m),p=n(19),y=r(p),v=n(289),M=a(v),g=n(51),L=a(g),Y=n(349),b=a(Y),k=n(17),w=a(k),T={accountInfo:JSON.parse(localStorage.accountInfo||"{}")},D={accountInfo:function(e){return e.accountInfo},showAccountSetting:function(e){return e.showAccountSetting}},S=function(e){var t=c["default"]({},e);return t.password=b["default"](t.password).toString(),t},x=(i={},d["default"](i,f.USER_SIGN_IN,function(e,t){var n=this,r=e.commit;e.state;M["default"].login(S(t)).then(function(e){w["default"].prototype.$Message.success("Welcome!"),n.dispatch(h.GET_NOTE_LIST),n.dispatch(y.GET_NOTEBOOKS_LIST),r(f.CHANGE_ACCOUNT_INFO,{data:e}),L["default"].push("/notebooks")},function(e){w["default"].prototype.$Message.error(e.errorMsg),r(f.CHANGE_ACCOUNT_INFO,{data:{}})})}),d["default"](i,f.USER_SIGN_UP,function(e,t){var n=this,r=e.commit;e.state;M["default"].signUp(S(t)).then(function(e){w["default"].prototype.$Message.success("Welcome!"),n.dispatch(h.GET_NOTE_LIST),n.dispatch(y.GET_NOTEBOOKS_LIST),r(f.CHANGE_ACCOUNT_INFO,{data:e}),L["default"].push("/notebooks")},function(e){w["default"].prototype.$Message.err(e.errorMsg),r(f.CHANGE_ACCOUNT_INFO,{data:{}})})}),d["default"](i,f.USER_LOG_OUT,function(e){e.commit,e.state;M["default"].logout().then(function(){localStorage.clear(),L["default"].push("/login")})}),i),j=d["default"]({},f.CHANGE_ACCOUNT_INFO,function(e,t){var n=t.data;e.accountInfo=n,localStorage.accountInfo=s["default"](n)});t["default"]={state:T,getters:D,actions:x,mutations:j}},295:function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(25),o=a(i),s=n(88),u=r(s),d={loading:[]},l={loading:function(e){return e.loading}},c={},_=o["default"]({},u.LOADING_CHANGE,function(e,t){var n=t.path,r=t.loading,a=e.loading;r?a.push(n):a.splice(a[a.indexOf(n)],1)});t["default"]={state:d,getters:l,actions:c,mutations:_}},296:function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i,o,s=n(12),u=a(s),d=n(35),l=a(d),c=n(24),_=a(c),f=n(25),m=a(f),h=n(90),p=a(h),y=n(7),v=r(y),M=n(290),g=a(M),L=n(1),Y=a(L),b=n(125),k=a(b),w=n(71),T=a(w),D=n(17),S=a(D),x={noteUpdateList:JSON.parse(localStorage.noteUpdateList||"[]"),notesList:JSON.parse(localStorage.notesList||"[]"),currentNote:{}},j={noteUpdateInfo:function(e){return e.noteUpdateInfo},notesList:function(e){return e.notesList},currentNote:function(e){return e.currentNote}},O=(i={},m["default"](i,v.GET_NOTE_LIST,function(e){var t=e.commit;e.state;g["default"].fetchList().then(function(e){t(v.GET_NOTE_LIST_SUCCESS,{data:e})},function(){t(v.GET_NOTE_LIST_FAILURE,{data:[]})})}),m["default"](i,v.GET_NOTE_UPDATE_LIST,function(e){var t=this,n=(e.commit,e.state);g["default"].fetchUpdateList().then(function(e){for(var r=[],a=0;a<n.noteUpdateList.length;a+=1){var i=k["default"](e,{id:n.noteUpdateList[a].id});if(i&&i.updateTime>=n.noteUpdateList[a].updateTime)break;r.push(g["default"].saveNote(n.notesList[a]))}p["default"].all(r).then(function(e){S["default"].prototype.$Message.success("Sync Note success"),t.dispatch(v.GET_NOTE_LIST)},function(){S["default"].prototype.$Message.error("Sync Note fail, please do it later")})})}),m["default"](i,v.SAVE_NOTE,function(e,t){var n=this;e.commit,e.state;g["default"].saveNote(t).then(function(e){S["default"].prototype.$Message.success("Note saved success"),n.dispatch(v.GET_NOTE_LIST)},function(){console.error("save note error!")})}),m["default"](i,v.CREATE_NEW_NOTE,function(e,t){var n=this,r=e.commit;e.state;g["default"].newNote(t).then(function(e){r(v.UPDATE_CURRENT_NOTE,{noteInfo:e}),n.dispatch(v.GET_NOTE_LIST)},function(){console.error("new note error!")})}),m["default"](i,v.DELETE_NOTE,function(e,t){var n=this;e.commit,e.state;g["default"].deleteNote(t).then(function(){n.dispatch(v.GET_NOTE_LIST)},function(){console.error("delete note fail!")})}),i),H=(o={},m["default"](o,v.GET_NOTE_LIST_SUCCESS,function(e,t){var n=t.data;e.notesList=n,e.noteUpdateList=n.map(function(e){return{id:e.id,updateTime:e.updateTime}}),localStorage.notesList=_["default"](n),localStorage.noteUpdateList=_["default"](e.noteUpdateList),n.length&&(e.currentNote=l["default"]({},n[0]))}),m["default"](o,v.GET_NOTE_LIST_FAILURE,function(e,t){t.data;e.notesList=[]}),m["default"](o,v.UPDATE_CURRENT_NOTE,function(e,t){var n=t.noteInfo;e.currentNote=l["default"](e.currentNote,n,{updateTime:Y["default"]().format("x")});var r=e.currentNote,a=r.id,i=r.updateTime,o=T["default"](e.noteUpdateList,{id:a});e.noteUpdateList.splice(o,1),e.noteUpdateList.splice(0,0,{id:a,updateTime:i}),localStorage.noteUpdateList=_["default"](e.noteUpdateList),e.notesList.splice(o,1),e.notesList.splice(0,0,u["default"]({},e.currentNote)),localStorage.notesList=_["default"](e.notesList)}),m["default"](o,v.CHANGE_ACTIVE_NOTE,function(e,t){var n=t.noteInfo;e.currentNote=n}),o);t["default"]={state:x,getters:j,actions:O,mutations:H}},297:function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i,o,s=n(25),u=a(s),d=n(24),l=a(d),c=n(19),_=r(c),f=n(7),m=r(f),h=n(86),p=a(h),y={orderType:"name",notebooksList:JSON.parse(localStorage.notebooksList||"[]")},v={notebooksList:function(e){return e.notebooksList}},M=(i={},u["default"](i,_.GET_NOTEBOOKS_LIST,function(e){var t=e.commit;e.state;p["default"].fetchList().then(function(e){t(_.GET_NOTEBOOKS_LIST_SUCCESS,{data:e}),localStorage.notebooksList=l["default"](e)},function(){t(_.GET_NOTEBOOKS_LIST_FAILURE)})}),u["default"](i,_.DELETE_NOTEBOOK,function(e,t){var n=this;e.commit,e.state;p["default"].deleteNotebook(t).then(function(){n.dispatch(_.GET_NOTEBOOKS_LIST),n.dispatch(m.GET_NOTE_UPDATE_LIST)})}),i),g=(o={},u["default"](o,_.CHANGE_ORDER_TYPE,function(e,t){var n=t.type;e.orderType=n}),u["default"](o,_.GET_NOTEBOOKS_LIST_FAILURE,function(e){e.notebooksList=[]}),u["default"](o,_.GET_NOTEBOOKS_LIST_SUCCESS,function(e,t){var n=t.data;e.notebooksList=n}),o);t["default"]={state:y,getters:v,actions:M,mutations:g}},298:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ADD_TO_CART="ADD_TO_CART"},351:352,354:352,440:function(e,t,n){var r=n(2)(n(263),n(470),null,null,null);e.exports=r.exports},442:function(e,t,n){function r(e){n(354)}var a=n(2)(n(265),n(473),r,null,null);e.exports=a.exports},470:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("router-view",{attrs:{transition:"fade","transition-mode":"out-in"}})],1)},staticRenderFns:[]}},473:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"confirm-popup-body"},[n("h3",{staticClass:"popup-title txt-ellipsis"},[e._v("\n    "+e._s(e.option.title)+"\n  ")]),e._v(" "),n("div",{staticClass:"popup-content"},e._l(e.option.tips,function(t,r){return n("p",{key:r,staticClass:"content-p"},[e._v("\n      "+e._s(t)+"\n      ")])})),e._v(" "),n("div",{staticClass:"popup-footer"},[n("button",{staticClass:"btn",on:{click:e.cancelFunc}},[e._v("Cancel")]),e._v(" "),n("button",{staticClass:"btn confirm-btn",on:{click:e.confirmFunc}},[e._v("Confirm")])])])},staticRenderFns:[]}}});